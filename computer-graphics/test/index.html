<!DOCTYPE html>
<html>
<head>
  <meta content="text/html;charset=utf-8" http-equiv="Content-Type">
  <meta content="utf-8" http-equiv="encoding">
</head>
<script src=three.js></script>
<body background="galaxy.jpg">


<hr color=white size=75>


<table>
<tr>
<td width=75></td>
<td>
<font face=helvetica>

<center><big><b>



</b></big></center>


<hr color=white size=50>


<TABLE>
<TR>
<TD width=80%>
<FONT face=helvetica>


</FONT>
</TD>
</TR>
</TABLE>


<p>&nbsp;<p><hr>&nbsp;<p>


<TABLE>
<TR>
<TD width=80%>
<FONT face=helvetica>

<p><b>Making simple scenes</b><p>

<blockquote>

The html file you are reading contains the following declaration:
<pre>
   &lt;script src=three.js>&lt;/script>
</pre>
<p>
Three.js is very powerful and general, but
while you are getting to know it,
it can be good to start with simple things.
<P>
<font color=red>
<b>NOTE:</b> There are different versions of the <code>three.js</code> source file.
For stability in your assignments, please unzip and use
the files referred to below in the homework assignment.
</font>

<P>
I have created some support code to make it easier for you to make simple example scenes:
<div id='SimpleScene_code'>
<pre>
   window.time = 0;
   window.SimpleScene = function() {
      this.init = function(name) {
         this.scene = new THREE.Scene();

         // CREATE THE CAMERA, AND ATTACH IT TO THE SCENE.

         var camera = new THREE.PerspectiveCamera(50, 1, 1, 10000);
         camera.position.z = 5;
         this.scene.add(camera);

         // CREATE THE WEBGL RENDERER, AND ATTACH IT TO THE DOCUMENT BODY.

         var renderer = new THREE.WebGLRenderer( { alpha: true } );
         renderer.setSize(2000, 2000);
         document.getElementById(name).appendChild(renderer.domElement);

         // CALL THE USER'S SETUP FUNCTION JUST ONCE.

         this.setup();

         // START THE ANIMATION LOOP.

         var that = this;
         (function tick() {
            time = (new Date().getTime()) / 1000;
            that.update();
            renderer.render(that.scene, camera);
            requestAnimationFrame(tick);
         })();
      }
    };
</pre>
</div>
<script>
   function evalElement(name) {
      eval(document.getElementById(name).innerHTML.replace(/<pre>/,'').replace(/<.pre>/,''));
   }
</script>
<script>evalElement('SimpleScene_code');</script>
</blockquote>

</FONT>
</TD>
</TR>
</TABLE>




<p>&nbsp;<p><hr>&nbsp;<p>


<TABLE>
<TR>
<TD width= 10%>
<FONT face=helvetica>

<p><b>Creating a jointed hierarchy</b><p>

<blockquote>

Here we are creating an object hierarchy,
using an invisible intermediate joint to help
create an animation of a ball rolling around in a circular path atop a box:
<p>
<ul>
<li>
The invisible joint, which is a child of the box, rotates about the y axis.
<p>
<li>
The ball, which is a child of the invisible joint, spins in place about the x axis, at position (1,0,0).
</ul>
<p>
The combined movements of the joint and the ball create the desired animation.
<p>

<table>
<tr>
<td id='Scene2_code'>
<pre>
function Scene2() {
   var earth, earthGeometry, earthMaterial, joint, moon, moonGeometry, moonMaterial;

   this.setup = function() {
      var light = new THREE.DirectionalLight(0xffffff);
      light.position.set(1, 1, 1).normalize();
      this.scene.add(light);

      var earthMaterial = new THREE.MeshBasicMaterial({map: THREE.ImageUtils.loadTexture( 'earthmap.jpg' )});
      var moonMaterial = new THREE.MeshBasicMaterial({map: THREE.ImageUtils.loadTexture( 'moonmap.jpg' )});
      earth = new THREE.Mesh(new THREE.SphereGeometry(1, 30, 30), earthMaterial);
      joint = new THREE.Mesh();
      moon = new THREE.Mesh(new THREE.SphereGeometry(.7, 30, 30), moonMaterial);

      this.scene.add(earth);
      earth.add(joint);
      joint.add(moon);
   }

   this.update = function() {
      earth.rotation.y = -time;

      joint.position.y = 0;
      <!-- joint.rotation.x = time; -->

      moon.position.set(2, 0, 0);
      <!-- moon.rotation.x = Math.PI/2; -->
      moon.rotation.y = -time;
      moon.scale.set(.5,.5,.5);
   }
}
Scene2.prototype = new SimpleScene;
new Scene2().init('Scene2_id');
</pre>
</td>
<td id='Scene2_id'></td>
</tr>
</table>
<script>evalElement('Scene2_code');</script>
</blockquote>

</FONT>
</TD>
</TR>
</TABLE>



</body>
</html>
