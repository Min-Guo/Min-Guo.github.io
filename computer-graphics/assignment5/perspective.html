
<table>
<tr>
<td><canvas id=canvas1 width=1000 height=800></td>
<td width=50></td>
<td valign=top>
</td>
</tr>


</table>

<script src=drawlib1.js></script>
<script src=martix.js></script>
<script>
   var canvas = initCanvas('canvas1');
   canvas.update = function(g) {
      // g.fillStyle = this.cursor.z ? 'red' : 'rgb(1, 1, 1)';
      g.strokeStyle = 'blue';
      g.beginPath();
      var x = this.cursor.x, y = this.cursor.y;
      // var factor = (new Date()).getSeconds() % 10;
      var f = -2;
      var m = 1;
      var n = 5;
      var matrix = new Matrix();
      var perspectiveMatrix = matrix.perspective(f, m);
      var newPoint = generatePoint(perspectiveMatrix, [50, 50, m, 1]);
      g.moveTo(x+ newPoint[0], y + newPoint[1]);
      newPoint = generatePoint (perspectiveMatrix, [50, -50, m, 1]);
      g.lineTo(x+ newPoint[0], y + newPoint[1]);
      newPoint = generatePoint (perspectiveMatrix, [-50, -50, m, 1]);
      g.lineTo(x+ newPoint[0], y + newPoint[1]);
      newPoint = generatePoint (perspectiveMatrix, [-50, 50, m, 1]);
      g.lineTo(x+ newPoint[0], y + newPoint[1]);
      newPoint = generatePoint(perspectiveMatrix, [50, 50, m, 1]);
      g.lineTo(x+ newPoint[0], y + newPoint[1]);
      g.stroke();

      perspectiveMatrix = matrix.perspective(f, n);
      newPoint = generatePoint(perspectiveMatrix, [50, 50, n, 1]);
      g.moveTo(x+ newPoint[0], y + newPoint[1]);
      newPoint = generatePoint (perspectiveMatrix, [-50, 50, n, 1]);
      g.lineTo(x+ newPoint[0], y + newPoint[1]);
      perspectiveMatrix = matrix.perspective(f, m);
      newPoint = generatePoint (perspectiveMatrix, [-50, 50, m, 1]);
      g.lineTo(x+ newPoint[0], y + newPoint[1]);
      newPoint = generatePoint (perspectiveMatrix, [50, 50, m, 1]);
      g.lineTo(x+ newPoint[0], y + newPoint[1]);
      perspectiveMatrix = matrix.perspective(f, n);
      newPoint = generatePoint(perspectiveMatrix, [50, 50, n, 1]);
      g.lineTo(x+ newPoint[0], y + newPoint[1]);
      g.stroke();

      perspectiveMatrix = matrix.perspective(f, m);
      newPoint = generatePoint(perspectiveMatrix, [50, -50, m, 1]);
      g.moveTo(x+ newPoint[0], y + newPoint[1]);
      newPoint = generatePoint (perspectiveMatrix, [-50, -50, m, 1]);
      g.lineTo(x+ newPoint[0], y + newPoint[1]);
      perspectiveMatrix = matrix.perspective(f, n);
      newPoint = generatePoint (perspectiveMatrix, [-50, -50, n, 1]);
      g.lineTo(x+ newPoint[0], y + newPoint[1]);
      newPoint = generatePoint (perspectiveMatrix, [50, -50, n, 1]);
      g.lineTo(x+ newPoint[0], y + newPoint[1]);
      perspectiveMatrix = matrix.perspective(f, m);
      newPoint = generatePoint(perspectiveMatrix, [50, -50, m, 1]);
      g.lineTo(x+ newPoint[0], y + newPoint[1]);
      g.stroke();

      perspectiveMatrix = matrix.perspective(f, m);
      newPoint = generatePoint(perspectiveMatrix, [-50, 50, m, 1]);
      g.moveTo(x+ newPoint[0], y + newPoint[1]);
      newPoint = generatePoint (perspectiveMatrix, [-50, -50, m, 1]);
      g.lineTo(x+ newPoint[0], y + newPoint[1]);
      perspectiveMatrix = matrix.perspective(f, n);
      newPoint = generatePoint (perspectiveMatrix, [-50, -50, n, 1]);
      g.lineTo(x+ newPoint[0], y + newPoint[1]);
      newPoint = generatePoint (perspectiveMatrix, [-50, 50, n, 1]);
      g.lineTo(x+ newPoint[0], y + newPoint[1]);
      perspectiveMatrix = matrix.perspective(f, m);
      newPoint = generatePoint(perspectiveMatrix, [-50, 50, m, 1]);
      g.lineTo(x+ newPoint[0], y + newPoint[1]);
      g.stroke();

      perspectiveMatrix = matrix.perspective(f, m);
      newPoint = generatePoint(perspectiveMatrix, [50, 50, m, 1]);
      g.moveTo(x+ newPoint[0], y + newPoint[1]);
      newPoint = generatePoint (perspectiveMatrix, [50, -50, m, 1]);
      g.lineTo(x+ newPoint[0], y + newPoint[1]);
      perspectiveMatrix = matrix.perspective(f, n);
      newPoint = generatePoint (perspectiveMatrix, [50, -50, n, 1]);
      g.lineTo(x+ newPoint[0], y + newPoint[1]);
      newPoint = generatePoint (perspectiveMatrix, [50, 50, n, 1]);
      g.lineTo(x+ newPoint[0], y + newPoint[1]);
      perspectiveMatrix = matrix.perspective(f, m);
      newPoint = generatePoint(perspectiveMatrix, [50, 50, m, 1]);
      g.lineTo(x+ newPoint[0], y + newPoint[1]);
      g.stroke();

      perspectiveMatrix = matrix.perspective(f, n);
      newPoint = generatePoint(perspectiveMatrix, [50, 50, n, 1]);
      g.moveTo(x+ newPoint[0], y + newPoint[1]);
      newPoint = generatePoint (perspectiveMatrix, [50, -50, n, 1]);
      g.lineTo(x+ newPoint[0], y + newPoint[1]);
      newPoint = generatePoint (perspectiveMatrix, [-50, -50, n, 1]);
      g.lineTo(x+ newPoint[0], y + newPoint[1]);
      newPoint = generatePoint (perspectiveMatrix, [-50, 50, n, 1]);
      g.lineTo(x+ newPoint[0], y + newPoint[1]);
      newPoint = generatePoint(perspectiveMatrix, [50, 50, n, 1]);
      g.lineTo(x+ newPoint[0], y + newPoint[1]);
      g.stroke();

      // g.strokeStyle = 'white';
      // g.beginPath();
      // g.moveTo(0,0);
      // g.lineTo(this.width,0);
      // g.lineTo(this.width,this.height);
      // g.lineTo(0,this.height);
      // g.lineTo(0,0);
      // g.stroke();
   }



</script>
